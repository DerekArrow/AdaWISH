# AdaWish

>  Repo for [Towards Efficient Discrete Integration via Adaptive Quantile Queries](https://www.cs.purdue.edu/homes/ding274/publications/Adawish.pdf "https://www.cs.purdue.edu/homes/ding274/publications/Adawish.pdf")

### Requirements

* Python 3:
    * numpy
    * matplotlib
    * argparse
    * scipy

> Install by executing the command: pip3 install --user numpy matplotlib argparse scipy

* ***IBM ILOG CPLEX Optimization Studio***

  A free academic license of ***CPLEX*** can be obtained from the [Main Page of CPLEX Optimization Studio](https://www.ibm.com/products/ilog-cplex-optimization-studio "Main Page of CPLEX Optimization Studio").

  

### Installation  

* Makefile

  We provide a sample Makefile modified from the Stefano's version. Please update the ***CPLEX*** configuration path in the makefile.

  > cd /path/to/adawish
  >
  > cd src
  >
  > make

  The default option setting of makefile would compile the *WH_cplex.cpp* and move the generated binary file to the *bin* folder.

  > cd ../bin
  >
  > ls ./

  If everything goes as expected, you will find A binary file named *AdaWish* in the listed files. Run the following command in the shell to make it  executive.

  > chmod u+x ./AdaWish

* Run analysis on instances

  Copy your own instances(data files in UAI format, [details](http://www.cs.huji.ac.il/project/PASCAL/fileFormat.php)) to the *data* folder. Run command in the shell as follows.

  > python XorAdaWish.py ../data/yourUAIfilename.uai ../log/taskname/

  The last term specifies output directory of log files generated by ***CPLEX***
  
